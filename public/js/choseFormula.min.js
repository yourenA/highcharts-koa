"use strict";!function(e){var r=null,a=null,t="",l="";e.ajax({url:"./../config.json",type:"GET",cache:!1,success:function(a){console.log(a),r=a;for(var t=0;t<a.length;t++)e("#formula").append("<option value='"+a[t].key+"'>"+a[t].formulaName+"</option>")}}),e("#formula").bind("change",function(n){if(a=parseInt(e(this).val()),console.log(a),isNaN(a))return!1;t="",l="",console.log(r[a].formulaParameterForOne);for(var o=0;o<r[a].formulaParameterForOne.length;o++)t+="<tr><td>"+r[a].formulaParameterForOne[o]+"</td><td> <input type='text' id='"+r[a].formulaParameterForOne[o]+"'/></td></tr> ";l+="<div>                    <h4>"+r[a].XAxis+"</h4>                    <textarea name='' id='"+r[a].XAxis+"' ></textarea>                </div> ";for(var o=0;o<r[a].formulaParameterForArr.length;o++)l+="<div >                    <h4>"+r[a].formulaParameterForArr[o]+"</h4>                    <textarea name='' id='"+r[a].formulaParameterForArr[o]+"' ></textarea>                </div> ";l+="<div>                    <h4>result</h4>                    <textarea name='' id='result' ></textarea>                </div> ",e(".left-parameter").html(l),e(".formulaParameterForOne table").html(t)}),e("#compute").bind("click",function(t){switch(a){case 0:var l=parseFloat(e("#K").val()),n=[],o=[],i=[];if(n=e("#T").val().split("\n"),o=e("#R").val().split("\n"),n=removeSpaceInArr(n),o=removeSpaceInArr(o),!l||0===n.length||0===o.length||n.length!==o.length)return alert("参数为空或参数长度不同"),!1;for(var u=0;u<n.length;u++)i.push(Math.round(4096*o[u]/(o[u]+l)));return e("#result").val(i.join("\n")),void setResult(n,o,i,r[a].formulaName,r[a].XAxis,r[a].XAxisUnit);case 1:var s=parseFloat(e("#Vcc").val()),v=parseFloat(e("#R1").val()),f=parseFloat(e("#R2").val()),m=parseFloat(e("#R3").val()),c=parseFloat(e("#Rx").val()),h=[],p=[],d=[];if(h=e("#T").val().split("\n"),p=e("#R").val().split("\n"),h=removeSpaceInArr(h),p=removeSpaceInArr(p),!(s&&v&&f&&m&&c&&0!==h.length&&0!==p.length&&h.length===p.length))return alert("参数为空或参数长度不同"),!1;for(var g=0;g<h.length;g++)d.push(s/(v+(f+m)*p[g]/(f+m+p[g]))*p[g]/(f+m+p[g])*m);return e("#result").val(d.join("\n")),void setResult(h,p,d,r[a].formulaName,r[a].XAxis,r[a].XAxisUnit);default:return}}),e("#export").bind("click",function(r){var t=e("#formula option:selected").text();console.log(t);for(var l=e(".formulaParameterForOne table tr"),n=[],o=0;o<l.length;o++){var i=e(l[o]).find("td :eq(0)").text(),u=e(l[o]).find("input").val();n.push({forOneKey:i,forOneValue:u})}console.log(n);for(var s=e(".left-parameter div"),v=[],f=0;f<s.length;f++){var m=e(s[f]).find("h4 :eq(0)").text(),c=removeSpaceInArr(e(s[f]).find("textarea").val().split("\n"));v.push({forArrKey:m,forArrValue:c})}switch(console.log(v),a){case 0:return!1}})}(jQuery);